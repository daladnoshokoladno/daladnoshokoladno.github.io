<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Char Lider - Авторизация</title>
  <link rel="stylesheet" href="cart.css">
</head>
<body>
    <!-- Шапка -->
  <div class="glav_container">
    <div class="pred_glav">
        <div class="glav_container_left">
        <ul>
          <a href="#hero-section"><li><p>Новинки</p></li></a>
          <a href="#products-section"><li><p>Хиты продаж</p></li></a>
          <a href="#special-offers"><li><p>Акции</p></li></a>
        </ul>
        </div>
        <div class="glav_container_right">
        <a href="home.html"><p>Личный кабинет</p></a>
        <p>|</p>
        <a href="autorization.html"><p>Вход</p></a>
        <p>|</p>
        <a href="question.html"><p>Обратная связь</p></a>
        </div>
    </div>
  </div>
  <!-- Шапка 2 -->
  <div class="contact-info">
    <a href="index.html"><img class="logo" src="/Group 14.png" alt=""></a>
    <div class="stol_and_stul">
      <a href="table.html"><p>Столы</p></a>
      <a href="chair.html"><p>Стулья</p></a>
    </div>
    <div>
      <p><strong>+7 (812) 426-12-55</strong> (Чебоксары)</p>
      <p><strong>8 (800) 500-09-76</strong> (бесплатно по России)</p>
    </div>
    <div class="src_and_cart">
      <a href="#"><img src="/Search.png"></a>
      <a href="cart.html"><img src="/Shopping cart.png"></a>
    </div>
  </div>
  <br>
        <nav class="breadcrumb">
            <a href="index.html">Главная</a> / <span>Корзина</span>
            <br><br>
            <h2>МОЯ КОРЗИНА</h2>
        </nav>

  <section class="cart-section">
    <div class="container cart-grid">

      <div class="cart-items">
        <div class="cart-item" data-id="1">
          <img src="image 6.png" alt="Стул">
          <div class="item-info">
            <h3 class="item-name">СТУЛ ABOBUS 130 NHT DFH YH</h3>
            <br>
            <div class="item-qty-display">Количество: <span class="qty-display">1</span></div>
          </div>
          <div class="item-price-inline">19 900 ₽</div>
        </div>

        <div class="cart-item" data-id="2">
          <img src="image 7.png" alt="Стол">
          <div class="item-info">
            <h3 class="item-name">СТОЛ REBUS 150 NEO KIU WV</h3>
            <br>
            <div class="item-qty-display">Количество: <span class="qty-display">1</span></div>
          </div>
          <div class="item-price-inline">100 900 ₽</div>
        </div>
      </div>

      <aside class="cart-summary">
        <div class="summary-items">
          <div class="summary-row" data-id="1">
            <div class="summary-row-left">
              <div class="summary-name">СТУЛ ABOBUS 130 NHT DFH YH</div>
              <div class="summary-unit">Цена: <span class="unit-price" data-price="19900">19 900 ₽</span></div>
            </div>
            <div class="summary-row-right">
              <div class="quantity-controls">
                <button class="minus" aria-label="Уменьшить">−</button>
                <span class="quantity">1</span>
                <button class="plus" aria-label="Увеличить">+</button>
              </div>
              <div class="item-subtotal">19 900 ₽</div>
            </div>
          </div>

          <div class="summary-row" data-id="2">
            <div class="summary-row-left">
              <div class="summary-name">СТОЛ REBUS 150 NEO KIU WV</div>
              <div class="summary-unit">Цена: <span class="unit-price" data-price="100900">100 900 ₽</span></div>
            </div>
            <div class="summary-row-right">
              <div class="quantity-controls">
                <button class="minus" aria-label="Уменьшить">−</button>
                <span class="quantity">1</span>
                <button class="plus" aria-label="Увеличить">+</button>
              </div>
              <div class="item-subtotal">100 900 ₽</div>
            </div>
          </div>
        </div>

        <form class="checkout-form" id="checkout-form" onsubmit="event.preventDefault(); alert('Данные формы: ' + JSON.stringify(getFormData()));">
          <h3>Данные доставки</h3>

          <label for="customer-name">Имя</label>
          <input id="customer-name" name="name" type="text" required>

          <label for="customer-phone">Телефон</label>
          <input id="customer-phone" name="phone" type="tel" required>

          <label for="customer-email">E-mail</label>
          <input id="customer-email" name="email" type="email" required>

          <label for="customer-address">Адрес доставки</label>
          <input id="customer-address" name="address" type="text" required>

          <div class="total-line">
            <div>Итого:</div>
            <div id="cart-total">107 390 ₽</div>
          </div>
          <button type="submit" class="checkout-btn" onclick="document.location='delivery.html'">Оформить заказ</button>
        </form>
      </aside>
    </div>
  </section>
  
  <!-- Подвал -->
  <footer class="footer">
    <div class="container">
      <div class="footer-top">
        <div class="footer-logo">
          <a href="index.html"><img src="Group 14.png" alt="Char Lider Logo"></a>
          <div class="info_pole">
            <p><img class="mini_img" src="image 19.png">Интернет магазин</p> <br>
            <p><img class="mini_img" src="image 20.png">8 (812) 426-12-15 (Челябинск)</p>
            <p>8 (800) 500-09-76 (бесплатно по России)</p> <br>
            <p><img class="mini_img" src="image 21.png">info@molotov.ru</p>
          </div>
        </div>
        <div class="footer-links">
          <div class="footer-column">
            <h4>О нас</h4>
            <a href="#">О компании</a>
            <a href="#">Доставка и оплата</a>
            <a href="#">Последний экземпляр</a>
            <a href="home.html">Личный кабинет</a>
          </div>
          <div class="footer-column">
            <h4>Акции и скидки</h4>
            <a href="#">Скидка на столы и стулья</a>
            <a href="#">Последний экземпляр</a>
          </div>
          <div class="footer-column">
            <h4>Столы</h4>
            <a href="table.html">Кухонные столы</a>
            <a href="table.html">Керамические</a>
            <a href="table.html">Стеклянные</a>
            <a href="table.html">Деревянные</a>
          </div>
          <div class="footer-column">
            <h4>Стулья</h4>
            <a href="chair.html">Кухонные стулья</a>
            <a href="chair.html">Металлические</a>
            <a href="chair.html">Кресла</a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
      <div class="copyright">
        <p>© Столы и стулья в Чебоксарах — интернет-магазин мебели «CHARLIDER»</p>
      </div>
      <div class="payment-methods">
        <img src="/image 25.png" alt="Payment Methods">
        <img src="/image 24.png" alt="Payment Methods">
        <img src="/image 22.png" alt="Payment Methods">
        <img src="/image 23.png" alt="Payment Methods">
      </div>
      <div class="region-info">
        <p>Ваш регион: Чебоксары<br>(RU, 21019, Чебоксары)</p>
      </div>
    </div>
  </div>
</footer>

<script>
  const summaryRows = document.querySelectorAll('.summary-row');
  const leftItems = document.querySelectorAll('.cart-item');
  const totalEl = document.getElementById('cart-total');

  function formatRub(value) {
    return value.toLocaleString('ru-RU') + ' ₽';
  }

  function getLeftItem(id) {
    return Array.from(leftItems).find(it => it.dataset.id === id);
  }

  function updateRowAndLeft(id, qty) {
    const row = document.querySelector('.summary-row[data-id="'+id+'"]');
    const priceEl = row.querySelector('.unit-price');
    const price = parseInt(priceEl.dataset.price, 10);
    const subtotal = price * qty;
    row.querySelector('.quantity').textContent = qty;
    row.querySelector('.item-subtotal').textContent = formatRub(subtotal);
    const left = getLeftItem(id);
    if (left) {
      left.querySelector('.qty-display').textContent = qty;
      left.querySelector('.item-price-inline').textContent = formatRub(subtotal);
    }
    updateTotal();
  }

  function updateTotal() {
    let total = 0;
    summaryRows.forEach(r => {
      const price = parseInt(r.querySelector('.unit-price').dataset.price, 10);
      const qty = parseInt(r.querySelector('.quantity').textContent, 10);
      total += price * qty;
    });
    totalEl.textContent = formatRub(total);
  }

  summaryRows.forEach(row => {
    const id = row.dataset.id;
    const minus = row.querySelector('.minus');
    const plus = row.querySelector('.plus');
    const qtyEl = row.querySelector('.quantity');

    plus.addEventListener('click', () => {
      const newQty = parseInt(qtyEl.textContent, 10) + 1;
      updateRowAndLeft(id, newQty);
    });

    minus.addEventListener('click', () => {
      const current = parseInt(qtyEl.textContent, 10);
      if (current > 1) {
        updateRowAndLeft(id, current - 1);
      }
    });
  });

  document.addEventListener('DOMContentLoaded', () => {
    summaryRows.forEach(r => {
      const id = r.dataset.id;
      const qty = parseInt(r.querySelector('.quantity').textContent, 10) || 1;
      updateRowAndLeft(id, qty);
    });
  });

  function getFormData() {
    const form = document.getElementById('checkout-form');
    return {
      name: form.name.value,
      phone: form.phone.value,
      email: form.email.value,
      address: form.address.value,
      total: document.getElementById('cart-total').textContent
    };
  }
</script>


</body>
</html>